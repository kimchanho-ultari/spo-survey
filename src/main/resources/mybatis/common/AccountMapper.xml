<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ultari.additional.mapper.common.AccountMapper">
	<resultMap type="Account" id="account">
		<id property="key" column="USER_ID"/>
		<result property="password" column="PASSWORD"/>
		<result property="title" column="USER_NAME"/>
		<result property="phone" column="PHONE"/>
		<result property="mobile" column="MOBILE"/>
		<result property="deptId" column="DEPT_ID"/>
		<result property="deptName" column="DEPT_NAME"/>
		<result property="role" column="ROLE"/>
	</resultMap>
	<select id="memberByKey" resultMap="account">
		SELECT
				  USER_ID
				, PASSWORD
				, USER_NAME
				, PHONE
				, MOBILE
				, DEPT_ID
				, DEPT_NAME
				, "USER" AS ROLE
		FROM MSG_USER_VW
		WHERE
				USER_ID=#{key}
	</select>
	<select id="managerByKey" resultMap="account">
		SELECT
				  USER_ID
				, PASSWORD
				, USER_NAME
				, "MANAGER" AS ROLE
		FROM MSG_ADMIN
		WHERE
				USER_ID=#{key}
	</select>
</mapper>